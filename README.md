<div align="center">
<a href="https://github.com/Shadow403/BiliListener">
  <img src="./image/logo.png"alt="LOGO">
</a>
</div>

## ğŸ“– ç®€ä»‹
#### âœ¨ ä¸€ä¸ªBç«™ç›´æ’­ç›‘å¬ç¨‹åº âœ¨
- é…ç½®é¡¹: `Yaml`
- æ•°æ®åº“: `SQLite3`
- APIæ¡†æ¶: `FastAPI`

## ğŸ“š ä½¿ç”¨æ–¹æ³•
```bash
git clone https://github.com/Shadow403/BiliListener.git
cd BiliListener
pip install poetry
poetry config virtualenvs.in-project true
poetry install
```

## ğŸ“ é…ç½®
- ä¿®æ”¹ `config.yml` ä¸‹çš„ `auth.sessdata` å¡«å…¥`å¡«å…¥å·²ç™»å½•Bç«™çš„ SESSDATA`

```yml
api:
  host: 127.0.0.1               # apiç›‘å¬åœ°å€
  port: 5700                    # apiç›‘å¬ç«¯å£
  router_access:                # apiè®¿é—®æƒé™
    r_put_uid:                  # å…è®¸è®¿é—®çš„IP
    - 127.0.0.1                 # å…è®¸è®¿é—®çš„IPåˆ—è¡¨
    strict: true                # ä¸¥æ ¼æ¨¡å¼, å¦‚æœä¸ºtrue, åˆ™åªæœ‰å…è®¸çš„IPå¯ä»¥è®¿é—®
auth:                           # ç™»å½•ä¿¡æ¯
  sessdata: ''                  # å¡«å…¥å·²ç™»å½•Bç«™çš„ SESSDATA
data:                           # æ•°æ®åº“é…ç½®
  db_path: db                   # æ•°æ®åº“è·¯å¾„
  json:                         # jsonè®°å½•é…ç½®
    enable: false               # æ˜¯å¦å¯ç”¨jsonæ–‡ä»¶è®°å½•
    json_path: json             # jsonæ–‡ä»¶è®°å½•è·¯å¾„
  root: data                    # ç›‘å¬æ•°æ®å­˜å‚¨è·¯å¾„
debug: true                     # æ˜¯å¦å¯ç”¨debugæ¨¡å¼
hide_console: true              # æ˜¯å¦éšè—æ§åˆ¶å°
live_clear_delay: 300           # æ¸…é™¤ç›´æ’­çŠ¶æ€æ—¶é—´(ç§’)
live_query_delay: 30            # æŸ¥è¯¢ç›´æ’­çŠ¶æ€æ—¶é—´(ç§’)
```

## ğŸ» è¿è¡Œ
- `pusher.py` ç›‘å¬å…¥å£ç¨‹åº
- `worker.py` æ¥å£å…¥å£ç¨‹åº

## ğŸ“¦ æ‰“åŒ…
- `scripts` ç›®å½•ä¸‹
  - `build.py` æ‰“åŒ…
  - `build.py -1` æ¨é€æ‰“åŒ…è„šæœ¬
  - `build.py -2` ç›‘å¬æ‰“åŒ…è„šæœ¬

## ğŸ¯ åŠŸèƒ½
- å…¥åœº
- å¼¹å¹•
- ç¤¼ç‰©
- ä¸Šèˆ°
- SC (é†’ç›®ç•™è¨€)

## ğŸ§± ç»“æ„
```bash
BiliListener
 â”œâ”€app                      [ç›‘å¬ç¨‹åº]
 â”‚  â”œâ”€config                [é…ç½®æ–‡ä»¶å¤¹]
 â”‚  â”œâ”€database              [æ•°æ®åº“]
 â”‚  â”œâ”€pusher                [ç›‘å¬MI]
 â”‚  â”œâ”€worker                [ç›‘å¬WS]
 â”‚  â”œâ”€data                  [ç›‘å¬æ•°æ®]
 â”‚  â””â”€scripts               [æ‰“åŒ…è„šæœ¬]
 â”‚     â””â”€build.py
 â”œâ”€modules                  [é¡¹ç›®ä¾èµ–]
 â”‚  â””â”€blivedm (package)
 â””â”€web
    â””â”€frontend              [å‰ç«¯]
```

## ğŸ’– æ„Ÿè°¢
- [`xfgryujk/blivedm`](https://github.com/xfgryujk/blivedm)

## TODO â°

- [x] æ‰“åŒ…è¯¥é¡¹ç›® ğŸ“¦
- [x] æ”¯æŒé…ç½®æ–‡ä»¶ ğŸ› ï¸
- [ ] æ‰çº¿(æ•°æ®ä¸å®Œæ•´)æ ‡è®° â˜„ï¸

<br>

<details>
<summary> æ—¥å¿— </summary>

- `v0.1.0` ğŸ‰ åˆ›ä¸–æäº¤
- `v0.1.1` ğŸ§± ç›‘å¬å¼‚æ­¥æ”¯æŒ
- `v0.1.2` âš¡ æ¥å£ä¼˜åŒ–
- `v0.1.3` âš¡ `ws` æ–­çº¿é‡è¿åè®°å½•çš„æ•°æ®æ¢å¤ | æ·»åŠ  `ws` `LIKE_V3_UPDATE`
- `v0.1.4` âœ¨ æ·»åŠ æ›´å¤šè®°å½•çš„æ•°æ® `config.json`
- `v0.1.5` âœ¨ æ•´ä½“é‡æ„
- `v0.1.6` ğŸ“¦ æ‰“åŒ…è¯¥é¡¹ç›® ğŸ ä¿®å¤æ•°æ®åº“ `Bugs`
- `v0.1.7` ğŸ› ï¸ æ”¯æŒé…ç½®æ–‡ä»¶
- `v0.1.8` ğŸ› ï¸ æ”¯æŒæ›´å¤šé…ç½®é¡¹ ğŸ ä¿®å¤æ•°æ®åº“ `commit.handle` `Bugs`
- `v0.1.9-b1` ğŸŒ æ·»åŠ å‰ç«¯
- `v0.1.9-b2` ğŸ“¦ æ·»åŠ æ‰“åŒ…å›¾æ ‡ `(ico)`
- `v0.1.9` ğŸ› ï¸ æ”¯æŒæ›´å¤šé…ç½®é¡¹ âœ¨ æ·»åŠ é‡ç½®ç›´æ’­çŠ¶æ€ `24h` âœ¨ æ·»åŠ  `api` ç‰ˆæœ¬åŒºåˆ†
- `v0.2.0-b1` âœ¨ æ‰“åŒ…ç‰ˆæœ¬æ§åˆ¶
- `v0.2.0-b2` âœ¨ APIæ¥å£æ›´æ–°
- `v0.2.0-b3` âœ¨ APIæ¥å£æ›´æ–° ğŸ› ï¸ æ·»åŠ æƒé™ `strict`
- `v0.2.0` âœ¨ğŸ“¦ğŸ› ï¸ æ•´ä½“æ›´æ–°
- `v0.2.1-b1` ğŸ ä¿®å¤äº†ä¸€äº›å°é—®é¢˜
- `v0.2.1` ğŸ ä¿®å¤äº†ä¸€äº›å°é—®é¢˜
